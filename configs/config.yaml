server:
  port: 8080
  mode: debug  # debug, release, test
  cors:
    # Set to true to allow all origins (not recommended for production)
    # When true, credentials will be disabled for security
    allow_all_origins: true
    # List of allowed origins (e.g., for Vercel deployment)
    # Example: ["https://your-app.vercel.app", "https://your-custom-domain.com"]
    # Leave empty if allow_all_origins is true
    allowed_origins: []

database:
  path: ./data/memes.db

qdrant:
  host: localhost
  port: 6334
  collection: memes

minio:
  endpoint: localhost:9000
  access_key: ${MINIO_ACCESS_KEY}
  secret_key: ${MINIO_SECRET_KEY}
  use_ssl: false
  bucket: memes

vlm:
  provider: openai
  model: ${VLM_MODEL:gpt-4o-mini}
  api_key: ${OPENAI_API_KEY}
  base_url: ${OPENAI_BASE_URL:https://api.openai.com/v1}

embedding:
  provider: jina
  model: jina-embeddings-v3
  api_key: ${JINA_API_KEY}
  dimensions: 1024

ingest:
  workers: 5
  batch_size: 10
  retry_count: 3

search:
  score_threshold: ${SEARCH_SCORE_THRESHOLD:0.0}
  query_expansion:
    enabled: true  # Enable LLM-based query expansion for better search results
    model: ${QUERY_EXPANSION_MODEL:gpt-4o-mini}  # Model to use for query expansion

sources:
  chinesebqb:
    enabled: true
    repo_path: ./data/ChineseBQB
