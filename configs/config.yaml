server:
  port: 8080
  mode: debug  # debug, release, test
  cors:
    # Set to true to allow all origins (not recommended for production)
    # When true, credentials will be disabled for security
    allow_all_origins: true
    # List of allowed origins (e.g., for Vercel deployment)
    # Example: ["https://your-app.vercel.app", "https://your-custom-domain.com"]
    # Leave empty if allow_all_origins is true
    allowed_origins: []

database:
  path: ./data/memes.db

qdrant:
  host: localhost
  port: 6334
  collection: memes

minio:
  endpoint: localhost:9000
  access_key: minioadmin
  secret_key: minioadmin
  use_ssl: false
  bucket: memes

vlm:
  provider: openai
  model: qwen/qwen-2.5-vl-7b-instruct:free
  api_key: <REMOVED>
  base_url: https://openrouter.ai/api/v1

embedding:
  provider: jina
  model: jina-embeddings-v3
  api_key: <REMOVED>
  dimensions: 1024

ingest:
  workers: 5
  batch_size: 10
  retry_count: 3

search:
  score_threshold: 0.0
  query_expansion:
    enabled: true  # Enable LLM-based query expansion for better search results
    model: qwen/qwen-2.5-vl-7b-instruct:free  # Model to use for query expansion (can be overridden by QUERY_EXPANSION_MODEL env var)

sources:
  chinesebqb:
    enabled: true
    repo_path: ./data/ChineseBQB
