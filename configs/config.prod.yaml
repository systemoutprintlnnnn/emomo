server:
  port: 8080
  mode: release  # Use release mode in production
  cors:
    allow_all_origins: false # Set to false for better security in production
    allowed_origins: []      # Add your domains here

database:
  driver: postgres
  # host: set via DATABASE_HOST env var
  host: ""
  port: 5432
  user: postgres
  dbname: emomo
  sslmode: disable
  max_idle_conns: 10
  max_open_conns: 100
  conn_max_lifetime: 1h

qdrant:
  # host: set via QDRANT_HOST env var
  host: ""
  port: 6334
  collection: emomo

storage:
  type: r2
  # endpoint: set via STORAGE_ENDPOINT env var
  endpoint: ""
  use_ssl: true
  bucket: emomo
  region: auto
  # public_url: set via STORAGE_PUBLIC_URL env var
  public_url: ""

vlm:
  provider: openai
  # model: set via VLM_MODEL env var
  model: ""
  base_url: https://openrouter.ai/api/v1

embedding:
  provider: jina
  # model: set via EMBEDDING_MODEL env var
  model: ""
  # base_url: set via EMBEDDING_BASE_URL env var (for modelscope or OpenAI-compatible endpoints)
  base_url: ""
  dimensions: 1024

ingest:
  workers: 5
  batch_size: 10
  retry_count: 3

search:
  score_threshold: 0.1 # Slightly higher threshold for production
  query_expansion:
    enabled: true
    # model: set via QUERY_EXPANSION_MODEL env var
    model: ""

sources:
  chinesebqb:
    enabled: true
    repo_path: ./data/ChineseBQB
