server:
  port: 8080
  mode: release  # Use release mode in production

database:
  driver: postgres  # 使用 PostgreSQL 数据库
  # 方式1: 使用连接字符串 URL（推荐，支持 Transaction Pooler）
  # url: postgresql://postgres.juyjvbdplgwsravreplc:[YOUR-PASSWORD]@aws-1-ap-south-1.pooler.supabase.com:6543/postgres
  # 方式2: 使用单独的字段配置
  # host: aws-1-ap-south-1.pooler.supabase.com
  # port: 6543
  # user: postgres.juyjvbdplgwsravreplc
  # password: [YOUR-PASSWORD]
  # dbname: postgres
  # sslmode: require
  # SQLite 配置（如果使用 SQLite，取消下面的注释）
  # path: ./data/memes.db

qdrant:
  host: localhost
  port: 6334
  collection: emomo

# S3 兼容存储配置（支持 Cloudflare R2、AWS S3 及其他 S3 兼容服务）
storage:
  # type: s3compatible                                # r2, s3, s3compatible
  endpoint: localhost:9000                            # S3 API endpoint
  # access_key: <access_key>                          # 或通过 STORAGE_ACCESS_KEY 设置
  # secret_key: <secret_key>                          # 或通过 STORAGE_SECRET_KEY 设置
  use_ssl: false
  bucket: memes
  # region: us-east-1                                 # R2 使用 "auto"，AWS S3 使用具体 region
  # public_url: https://pub-xxx.r2.dev                # 公开访问 URL（推荐配置）

vlm:
  provider: openai
  model: qwen/qwen-2.5-vl-7b-instruct:free
  # api_key: 通过环境变量 OPENAI_API_KEY 设置
  base_url: https://openrouter.ai/api/v1

embedding:
  provider: jina
  model: jina-embeddings-v3
  # api_key: 通过环境变量 JINA_API_KEY 设置
  dimensions: 1024

ingest:
  workers: 5
  batch_size: 10
  retry_count: 3

search:
  score_threshold: 0.0
  query_expansion:
    enabled: true
    model: qwen/qwen-2.5-vl-7b-instruct:free

sources:
  chinesebqb:
    enabled: true
    repo_path: ./data/ChineseBQB

